<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="YouTube/Twitch/etc chat render" />
    <title>Editor</title>
    <link rel="stylesheet" href="./index.css" />
  </head>

  <body>
    <main>
      <section>
        <h2>Settings</h2>
        <form name="settings" onsubmit="render(); return false;">
          <fieldset name="properties">
            <legend>Properties</legend>
            <label>
              Width:
              <input
                name="width"
                type="number"
                value="400"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Height:
              <input
                name="height"
                type="number"
                value="720"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Line height (emotes size):
              <input
                name="lineHeight"
                type="number"
                value="24"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Messages spacing:
              <input
                name="messagesSpacing"
                type="number"
                value="0"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Font:
              <input
                name="font"
                type="text"
                value="13px arial"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Background fill style:
              <input
                name="backgroundFillStyle"
                type="text"
                value="#0F0F0F"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Author fill style:
              <input
                name="authorFillStyle"
                type="text"
                value="#B7B7B7"
                oninput="updatePreview()"
                required
              />
            </label>
            <label>
              Message fill style:
              <input
                name="messageFillStyle"
                type="text"
                value="#FFFFFF"
                oninput="updatePreview()"
                required
              />
            </label>
          </fieldset>
          <fieldset name="data">
            <legend>Data</legend>
            <label>
              Messages: <input name="messages" type="file" required />
            </label>
            <label> Emotes: <input name="emotes" type="file" /> </label>
          </fieldset>
          <div id="render">
            <input id="submit" type="submit" value="render" />
            <input
              id="mimeTypes"
              value="video/mp4"
              type="text"
              list="mimeTypesList"
            />
            <datalist id="mimeTypesList">
              <option>image/gif</option>
              <option>video/mp4</option>
              <option>video/webm</option>
              <option>video/avi</option>
            </datalist>
          </div>
        </form>
      </section>
      <section>
        <h2>Preview</h2>
        <canvas id="chat"></canvas>
      </section>
    </main>
    <script type="module">
      import { updatePreview, render } from "./index.bundle.mjs";
      window.updatePreview = updatePreview;
      window.render = render;
      updatePreview();
    </script>
  </body>
</html>
